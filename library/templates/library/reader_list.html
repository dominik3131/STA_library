{% extends "base.html" %}
{% block nav-readers %}
<a class="nav-link active" href="/readers">Readers</a>
{% endblock %}
{% block content %}

<div class="container-fluid">
  <h2>Readers</h2>
  <a href="/readers/create">
    <button type="button" class="btn btn-primary">Add new reader</button>
  </a>
  <div class="container">
    <form action="/readers" method="get">
      <div class="row">
        <div class="col-sm-9">
          <input
            id="al-search"
            type="text"
            name="query"
            value="{{ request.GET.query }}"
            class="form-control"
          />
        </div>
        <div class="col-sm-3">
          <input type="submit" value="Search" class="btn btn-success" />
        </div>
      </div>
    </form>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Username</th>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Email</th>
        <th scope="col">Edit</th>
      </tr>
    </thead>
    <tbody>
      {% for reader in object_list %}
      <tr>
        <th scope="row">{{reader.username}}</th>
        <td>{{reader.first_name}}</td>
        <td>{{reader.last_name}}</td>
        <td>{{reader.email}}</td>
        <td>
          <a href="/readers/{{reader.id}}/details">
            <button type="button" class="btn btn-primary">Details</button>
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
